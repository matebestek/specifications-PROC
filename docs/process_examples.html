<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="Examples of openEHR CDS, Guideline and Planning artefacts.">
<meta name="keywords" content="process, task planning, CDS, CPG, decision logic, examples, workflow">
<title>openEHR CDS, Guidelines and Planning Examples</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_openehr_cds_guidelines_and_planning_examples">openEHR CDS, Guidelines and Planning Examples</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
</ul>
</li>
<li><a href="#_overview">2. Overview</a>
<ul class="sectlevel2">
<li><a href="#_draw_io_tool_mode">2.1. Draw.io Tool mode</a></li>
</ul>
</li>
<li><a href="#_teamwork">3. Teamwork</a>
<ul class="sectlevel2">
<li><a href="#_out_patient_eye_clinic_encounter">3.1. Out-patient Eye Clinic Encounter</a>
<ul class="sectlevel3">
<li><a href="#_plan_overview">3.1.1. Plan Overview</a></li>
<li><a href="#_detailed_description">3.1.2. Detailed Description</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_order_management">4. Order Management</a>
<ul class="sectlevel2">
<li><a href="#_order_coordination">4.1. Order Coordination</a>
<ul class="sectlevel3">
<li><a href="#_plan_overview_2">4.1.1. Plan Overview</a></li>
<li><a href="#_detailed_description_2">4.1.2. Detailed Description</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_multi_drug_chemotherapy">5. Multi-drug Chemotherapy</a>
<ul class="sectlevel2">
<li><a href="#_limitations">5.1. Limitations</a></li>
<li><a href="#_plan_definition">5.2. Plan Definition</a></li>
<li><a href="#_rchops21_decision_logic_module">5.3. RCHOPS21 Decision Logic Module</a></li>
</ul>
</li>
<li><a href="#_antenatal_care">6. Antenatal Care</a>
<ul class="sectlevel2">
<li><a href="#_work_plan">6.1. Work Plan</a></li>
<li><a href="#_pregnancy_risk_assessment_dlm">6.2. Pregnancy Risk Assessment DLM</a></li>
</ul>
</li>
<li><a href="#_breast_cancer_decision_protocol">7. Breast Cancer Decision Protocol</a>
<ul class="sectlevel2">
<li><a href="#_decision_logic_module">7.1. Decision Logic Module</a></li>
</ul>
</li>
<li><a href="#_covid19_severity_classification">8. Covid19 Severity Classification</a>
<ul class="sectlevel2">
<li><a href="#_work_plan_2">8.1. Work Plan</a></li>
<li><a href="#_decision_logic_module_2">8.2. Decision Logic Module</a></li>
</ul>
</li>
<li><a href="#_cha2ds2_vasc">9. CHA2DS2-VASc</a>
<ul class="sectlevel2">
<li><a href="#_work_plan_3">9.1. Work Plan</a></li>
<li><a href="#_decision_logic_module_3">9.2. Decision Logic Module</a></li>
</ul>
</li>
<li><a href="#_qrisk3_2017">10. qRisk3-2017</a>
<ul class="sectlevel2">
<li><a href="#_decision_logic_module_4">10.1. Decision Logic Module</a></li>
</ul>
</li>
<li><a href="#_common_decision_logic_modules">11. Common Decision Logic Modules</a>
<ul class="sectlevel2">
<li><a href="#_basic_demographics">11.1. BASIC: Demographics</a></li>
<li><a href="#_bsa_body_surface_area">11.2. BSA: Body Surface Area</a></li>
<li><a href="#_bmi_body_mass_index">11.3. BMI: Body Mass Index</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://specifications.openehr.org/images/openEHR_logo_RGB.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_openehr_cds_guidelines_and_planning_examples" class="sect0"><a class="anchor" href="#_openehr_cds_guidelines_and_planning_examples"></a>openEHR CDS, Guidelines and Planning Examples</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: PROC latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: DEVELOPMENT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: process, task planning, CDS, CPG, decision logic, examples, workflow</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<object type="image/svg+xml" data="openehr_block_diagram.svg" width="60%"><span class="alt">openEHR components</span></object>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2017 - 2021 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit foundation, facilitating the sharing of health records by consumers and clinicians via open specifications, clinical models and open platform implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/PROC/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record"><a class="anchor" href="#_amendment_record"></a>Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>PROC Release 1.5.0</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>PROC Release 1.0.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>0.1.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update perinatal care DLM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D S Alves</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>18 Nov 2020</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace 'manual notification' callback by normal Handoff followed by manual notification Task wait state.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M Polajnar,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16 Apr 2020</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial writing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T Beale,<br>
 B Næss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25 Apr 2019</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_contributors"><a class="anchor" href="#_contributors"></a>Contributors</h3>
<div class="ulist">
<ul>
<li>
<p>Danielle S Alves, RN, midwife, Federal University of Pernambuco (UFPE), Brazil</p>
</li>
<li>
<p>Bjørn Næss, DIPS, Norway</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support"><a class="anchor" href="#_support"></a>Support</h3>
<div class="paragraph">
<p>The work reported in this specification has been funded by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DIPS, Norway</p>
</li>
<li>
<p>Marand d.o.o., Slovenia</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks"><a class="anchor" href="#_trademarks"></a>Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of the openEHR Foundation.</p>
</li>
<li>
<p>'OMG' is a trademark of the Object Management Group.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document contains elaborated examples of the openEHR Process framework, including Task Plans and Decision Logic Modules, with diagrams in TP-VML.</p>
</div>
<div class="paragraph">
<p>The intended audience includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Plan and Guideline authors;</p>
</li>
<li>
<p>Tool vendors.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/task_planning.html" target="_blank" rel="noopener">openEHR Task Planning Model</a>;</p>
</li>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/decision_language.html" target="_blank" rel="noopener">openEHR Decision Language</a>;</p>
</li>
<li>
<p>The <a href="https://specifications.openehr.org/releases/PROC/latest/tp_vml.html" target="_blank" rel="noopener">openEHR Task Planning Visual Modelling Language (TP-VML)</a>;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the DEVELOPMENT state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/PROC/latest/process_examples.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/PROC/latest/process_examples.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://discourse.openehr.org/c/specifications/task-planning-gdl" target="_blank" rel="noopener">process specifications forum</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/PROC/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/PROC/history" target="_blank" rel="noopener">PROC component Change Request tracker</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>2. Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_draw_io_tool_mode"><a class="anchor" href="#_draw_io_tool_mode"></a>2.1. Draw.io Tool mode</h3>
<div class="paragraph">
<p>The following files can be downloaded and then imported into draw.io as libraries to provide a working palette for TP-VML diagrams.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="process_examples/draw.io-lib/TP_VML_plans.xml">TP_VML plans</a></p>
</li>
<li>
<p><a href="process_examples/draw.io-lib/TP_VML_groups.xml">TP_VML groups</a></p>
</li>
<li>
<p><a href="process_examples/draw.io-lib/TP_VML_tasks.xml">TP_VML tasks</a></p>
</li>
<li>
<p><a href="process_examples/draw.io-lib/TP_VML_events.xml">TP_VML events</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_teamwork"><a class="anchor" href="#_teamwork"></a>3. Teamwork</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The examples in this section illustrate the use of TP for team-based work plans, including hand-offs, callbacks and other kinds of coordination.</p>
</div>
<div class="sect2">
<h3 id="_out_patient_eye_clinic_encounter"><a class="anchor" href="#_out_patient_eye_clinic_encounter"></a>3.1. Out-patient Eye Clinic Encounter</h3>
<div class="paragraph">
<p>This example is based on the original description of <a href="https://github.com/bjornna/TP-examples/blob/master/16-eye_outpatient/index.adoc">DIPS Eye encounter example</a>.</p>
</div>
<div id="outpatient_eye_clinic" class="imageblock text-center text-center">
<div class="content">
<img src="process_examples/diagrams/outpatient_eye_clinic.svg" alt="outpatient eye clinic">
</div>
<div class="title">Figure 1. Outpatient eye clinic encounter</div>
</div>
<div class="sect3">
<h4 id="_plan_overview"><a class="anchor" href="#_plan_overview"></a>3.1.1. Plan Overview</h4>
<div class="paragraph">
<p>As for all Plans defined in the Task Planning formalism, it must be remembered that the Plan definition above is what the <em>TP engine executes</em>. It is the result of the execution (including worker allocation and communication, which is not shown in the definition) that causes workers in the real world to do things. Additionally, what the TP engine knows about the real world is limited to what it is told - many actions and events can occur outside the TP computing environment that will remain unknown to the system unless it is informed (e.g. by Manual notification).</p>
</div>
<div class="paragraph">
<p>The Work Plan consists of two top-level Task Plans, one for the patient and one for the clinic administrator / reception. The latter has two sub-plans linked by hand-off Tasks.</p>
</div>
<div class="paragraph">
<p>The purpose of the patient top-level Task Plan is to allow the system to notify the patient of the visit, via a reminder on the day of the visit, or some fixed time beforehand. The driving event is the calendar appointment, which is waited on by both the patient and the clinic admin Task Plans. It is assumed that longer term reminders, opportunities for changing appointments and so on are managed by another system that see the same calendar events, and is responsible for setting the calendar events in the first place. Thus, in the model above, the patient top-level plan is not really necessary (he/she will be notified by the appointment system), and is mainly included for purposes of demonstration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_detailed_description"><a class="anchor" href="#_detailed_description"></a>3.1.2. Detailed Description</h4>
<div class="paragraph">
<p>The main work of the Work Plan is in the other three Task Plans, which essentially encode the following logic:</p>
</div>
<div class="paragraph">
<p>Clinic Administrator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>clinic has a live Task Plan waiting on appointment A for patient P, at 2019-02-15 09:30:00;</p>
</li>
<li>
<p>when this calendar timepoint is reached, the TP system 'opens' the appointment via a System Request to the clinic appointment system (details not shown);</p>
</li>
<li>
<p>WAIT: the clinic Task Plan enters a new wait state for patient P, for appointment A;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Patient:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>patient arrives at clinic (modelled as a Manual notification);</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Clinic Administrator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive patient, record presence;</p>
</li>
<li>
<p>Hand-off: pass to consultation (e.g. send to waiting area);</p>
</li>
<li>
<p>WAIT: until manual notification (patient returns)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Nurse:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive patient &amp; check EMR</p>
</li>
<li>
<p>review eye function, decide on whether to send to doc or not:</p>
<div class="ulist">
<ul>
<li>
<p>EITHER: return to reception</p>
</li>
<li>
<p>OR: pass to doctor</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specialist:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive patient and check EMR</p>
</li>
<li>
<p>perform examination</p>
</li>
<li>
<p>update EMR</p>
</li>
<li>
<p>send patient back to reception.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_order_management"><a class="anchor" href="#_order_management"></a>4. Order Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The examples in this section illustrate the use of TP for order management, where openEHR Instructions and Actions (or other non-openEHR equivalents) are created and tracked.</p>
</div>
<div class="sect2">
<h3 id="_order_coordination"><a class="anchor" href="#_order_coordination"></a>4.1. Order Coordination</h3>
<div class="paragraph">
<p>This example is based on a standard Moscow City clinic protocol, and covers a 12 month period.</p>
</div>
<div id="order_coordination" class="imageblock text-center text-center">
<div class="content">
<img src="process_examples/diagrams/order_coordination.svg" alt="order coordination">
</div>
<div class="title">Figure 2. GP order coordination</div>
</div>
<div class="sect3">
<h4 id="_plan_overview_2"><a class="anchor" href="#_plan_overview_2"></a>4.1.1. Plan Overview</h4>
<div class="paragraph">
<p>The Work Plan shown above defines the tasks for a 'standard health check' that includes a chest x-ray, a full blood panel and a hypertension checkup. The Plan executes over the periof a year, and consists of a health coordinator creating orders for the three items, via UI forms. The result of creating these orders will be the creation of a normal Composition and Instruction in the openEHR EHR for the patient. At some later point in time, the coordinator will action these orders, which will cause the EHR data to be used to create appropriate API calls / messages to the relevant target systems (radiology clinic, pathology lab, consultant) that will further cause appointments and attendances in the normal way by the patient. Each of these 'execute order' Tasks will block and wait for appropriate callbacks resulting from each of the orders being fulfilled and corresponding Actions being committed to the EHR (or else timeouts, if nothing happens). With the received results, the coordinator creates a health summary for the patient and commits that to the EHR.</p>
</div>
</div>
<div class="sect3">
<h4 id="_detailed_description_2"><a class="anchor" href="#_detailed_description_2"></a>4.1.2. Detailed Description</h4>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multi_drug_chemotherapy"><a class="anchor" href="#_multi_drug_chemotherapy"></a>5. Multi-drug Chemotherapy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section illustrates multi-drug chemotherapy with complex dosing and timing arrangements.</p>
</div>
<div class="paragraph">
<p>This example is based on the version of RCHOPS-21 documented by <a href="http://nssg.oxford-haematology.org.uk/lymphoma/documents/lymphoma-chemo-protocols/L-80-r-chop-21.pdf">NHS Thames Valley Cancer Network</a>.</p>
</div>
<div class="sect2">
<h3 id="_limitations"><a class="anchor" href="#_limitations"></a>5.1. Limitations</h3>
<div class="paragraph">
<p>The following elements of the plan are not yet included (mainly for brevity of the example):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vincristine dose modification due to hepatic impairment;</p>
</li>
<li>
<p>Concurrent meds only shown in summarised form;</p>
</li>
<li>
<p>Exception pathways to handle patient reactions not shown.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_plan_definition"><a class="anchor" href="#_plan_definition"></a>5.2. Plan Definition</h3>
<div class="paragraph">
<p>The following shows the pre-medication phase.</p>
</div>
<div id="rchops_pre" class="imageblock text-center text-center">
<div class="content">
<img src="process_examples/diagrams/RCHOPS21-pre.svg" alt="RCHOPS21 pre">
</div>
<div class="title">Figure 3. RCHOPS21 pre-med phase</div>
</div>
<div class="paragraph">
<p>The following shows the main regime, including conditional addition of Rituximab / methotrexate for high IPI patients.</p>
</div>
<div id="rchops_admin" class="imageblock text-center text-center">
<div class="content">
<img src="process_examples/diagrams/RCHOPS21-admin.svg" alt="RCHOPS21 admin">
</div>
<div class="title">Figure 4. RCHOPS21 administration phase</div>
</div>
</div>
<div class="sect2">
<h3 id="_rchops21_decision_logic_module"><a class="anchor" href="#_rchops21_decision_logic_module"></a>5.3. RCHOPS21 Decision Logic Module</h3>
<div class="listingblock">
<div class="content">
<pre>dlm RCHOPS21

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Dr Spock"&gt;
        ["organisation"] = &lt;"Acme healthcare"&gt;
        ["date"] = &lt;"2020-03-22"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"NHS CHOPS-21 chemotherapy guideline ...."&gt;
        &gt;
    &gt;

use
    BSA: Body_surface_area.v0.5.0

preconditions
    has_lymphoma_diagnosis

reference
    paracetamol_dose: Quantity = 1g
    chlorphenamine_dose: Quantity = 10mg
    prednisolone_dose_per_m2: Quantity = 40mg
    rituximab_dose_per_m2: Quantity = 375mg
    doxorubicin_dose_per_m2: Quantity = 50mg
    vincristine_dose_per_m2: Quantity = 1.4mg
    cyclophosphamide_dose_per_m2: Quantity = 750mg
    cycle_period: Duration = 3w
    cycle_repeats: Integer = 6

input -- State

    has_lymphoma_diagnosis: Boolean
        time_window = tw_current_episode

input -- Tracked state

    staging: Terminology_term «ann_arbor_staging»
        currency = 30 days
        time_window = tw_current_episode

    has_metastases: Boolean
        currency = 30 days
        time_window = tw_current_episode

    neutrophils: Quantity
        currency = 3d
        ranges =
            ----------------------------------
            [normal]:      |&gt;1 x 10^9/L|,
            [low]:         |0.5 - 1 x 10^9/L|,
            [very_low]:    |&lt;0.5 x 10^9/L|
            ----------------------------------
        ;

    platelets: Quantity
        currency = 12h
        ranges =
            ----------------------------------
            [normal]:      |&gt;75 x 10^9/L|,
            [low]:         |50 - 74 x 10^9/L|,
            [very_low]:    |&lt;50 x 10^9/L|
            ----------------------------------
        ;

    bilirubin: Quantity
        currency = 12h
        ranges =
            ----------------------------------
            [normal]:      |&lt;20 mmol/L|,
            [high]:        |20 - 51 mmol/L|,
            [very_high]:   |51 - 85 mmol/L|,
            [crit_high]:   |&gt;85 mmol/L|
            ----------------------------------
        ;

    gfr: Quantity
        currency = 24h
        ranges =
            ----------------------------------
            [normal]:      |&gt;20 mL/min|,
            [low]:         |10 - 20 mL/min|,
            [very_low]:    |&lt;10 mL/min|
            ----------------------------------
        ;

    ldh: Quantity
        currency = 24h
        ranges =
            ----------------------------------
            [normal]:      |&gt;20 mL/min|,
            [low]:         |10 - 20 mL/min|,
            [very_low]:    |&lt;10 mL/min|
            ----------------------------------
        ;

rules -- Conditions

    high_ipi:
        Result := ipi_risk ∈ {[ipi_high_risk], [ipi_intermediate_high_risk]}

rules -- Main

    |
    | patient fit to undertake regime
    |
    patient_fit:
        Result := not
            (platelets.in_range ([very_low]) or
             neutrophils.in_range ([very_low]))
        ;

    prednisolone_dose: Quantity
        Result := prednisolone_dose_per_m2 * BSA.bsa_m2
        ;

    rituximab_dose: Quantity
        Result := rituximab_dose_per_m2 * BSA.bsa_m2
        ;

    doxorubicin_dose: Quantity
        Result := doxorubicin_dose_per_m2 * BSA.bsa_m2
            * case bilirubin.range in
                ===================
                [high]:        0.5,
                [very_high]:   0.25,
                [crit_high]:   0.0
                ===================
        ;

    |
    | TODO: hepatic impairment dose modification
    |
    vincristine_dose: Quantity
        Result := vincristine_dose_per_m2 * BSA.bsa_m2
        ;

    |
    | CHECK: is low platelets and GFR dose modification
    | cumulative?
    |
    cyclophosphamide_dose: Quantity
        Result := cyclophosphamide_dose_per_m2 * BSA.bsa_m2
            * case platelets.range in
                ===================
                [normal]:      1,
                [low]:         0.75
                ===================
            * case gfr.range in {
                ===================
                [normal]:      1,
                [low]:         0.75,
                [very_low]:    0.5
                ===================
        ;

    |
    | International Prognostic Index
    | ref: https:|en.wikipedia.org/wiki/International_Prognostic_Index
    |
    | One point is assigned for each of the following risk factors:
    |     Age greater than 60 years
    |     Stage III or IV disease
    |     Elevated serum LDH
    |     ECOG/Zubrod performance status of 2, 3, or 4
    |     More than 1 extranodal site
    |
    | The sum of the points allotted correlates with the following risk groups:
    |     Low risk (0-1 points) - 5-year survival of 73%
    |     Low-intermediate risk (2 points) - 5-year survival of 51%
    |     High-intermediate risk (3 points) - 5-year survival of 43%
    |     High risk (4-5 points) - 5-year survival of 26%
    |
    ipi_raw_score: Integer
        Result.add (
            ---------------------------------------------
            age &gt; 60                             ? 1 : 0,
            staging ∈ {[stage_III], [stage_IV]} ? 1 : 0,
            ldh.in_range ([normal])              ? 1 : 0,
            ecog &gt; 1                             ? 1 : 0,
            extranodal_sites &gt; 1                 ? 1 : 0
            ---------------------------------------------
        )
        ;

    ipi_risk: Terminology_code
        Result :=
            case ipi_raw_score in
                =======================================
                |0..1|  : [ipi_low_risk],
                |2|     : [ipi_intermediate_low_risk],
                |3|     : [ipi_intermediate_high_risk],
                |4..5|  : [ipi_high_risk];
                =======================================
        ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["paracetamol_dose"] = &lt;
                text = &lt;"paracetamol dose"&gt;
                description = &lt;"paracetamol base dose level per sq. m of BSA"&gt;
            &gt;
            ["chlorphenamine_dose"] = &lt;
                text = &lt;"chlorphenamine dose"&gt;
                description = &lt;"chlorphenamine base dose level per sq. m of BSA"&gt;
            &gt;
            ...
            ["staging"] = &lt;
                text = &lt;"Cancer staging"&gt;
                description = &lt;"Cancer staging (Ann Arbor system)"&gt;
            &gt;
            ["has_metastases"] = &lt;
                text = &lt;"Metastatic status"&gt;
                description = &lt;"Status of metastasis of cancer"&gt;
            &gt;
            ...
            ["neutrophils"] = &lt;
                text = &lt;"neutrophils"&gt;
                description = &lt;"neutrophils level"&gt;
            &gt;
            ["platelets"] = &lt;
                text = &lt;"platelets"&gt;
                description = &lt;"platelets level"&gt;
            &gt;
            ...
            ["ipi_low_risk"] = &lt;
                text = &lt;"low risk: 5y survival - 73%"&gt;
                description = &lt;".."&gt;
            &gt;
            ["ipi_intermediate_low_risk"] = &lt;
                text = &lt;"intermediate-low risk: 5y survival - 51%"&gt;
                description = &lt;".."&gt;
            &gt;
            ["ipi_intermediate_high_risk"] = &lt;
                text = &lt;"intermediate-high risk: 5y survival - 43%"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["ipi_high_risk"] = &lt;
                text = &lt;"high risk: 5y survival - 26%"&gt;
                description = &lt;"..."&gt;
            &gt;
        &gt;
    &gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_antenatal_care"><a class="anchor" href="#_antenatal_care"></a>6. Antenatal Care</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following pregnancy care DLM was developed by Danielle S Alves (RN, midwife) as part of her PhD thesis at Federal University of Pernambuco (UFPE), Brazil.</p>
</div>
<div class="sect2">
<h3 id="_work_plan"><a class="anchor" href="#_work_plan"></a>6.1. Work Plan</h3>
<div class="paragraph">
<p>The following Work Plan is the standard risk assessment for an antenatal visit.</p>
</div>
<div id="prenatal_risk_assessment" class="imageblock text-center text-center">
<div class="content">
<img src="process_examples/diagrams/prenatal_risk_assessment2.svg" alt="prenatal risk assessment2">
</div>
<div class="title">Figure 5. Pre-natal risk assessment Work Plan</div>
</div>
</div>
<div class="sect2">
<h3 id="_pregnancy_risk_assessment_dlm"><a class="anchor" href="#_pregnancy_risk_assessment_dlm"></a>6.2. Pregnancy Risk Assessment DLM</h3>
<div class="listingblock">
<div class="content">
<pre>dlm ruleset Obstetric_pregnancy

preconditions

    is_pregnant

types

    Risk_value ::= Ordinal
        map =
            -------------------
            [emergency]:    2,
            [high_risk]:    1,
            [low_risk]:     0
            -------------------
        ;

input -- Historical state

    is_type1_diabetic: Boolean

    previous_obstetric_hypertension: Boolean

    previous_pre_eclampsia: Boolean

    previous_eclampsia: Boolean

    previous_gestational_diabetes: Boolean

    family_history_of_diabetes: Boolean

    race_related_diabetes_risk: Boolean

    |
    | Macrosomic baby from any previous pregnancy
    |
    previous_macrosomic_baby: Boolean

    is_pregnant: Boolean

    has_gestational_diabetes: Boolean

    has_pregnancy_hypertension: Boolean

    has_pre_eclampsia: Boolean

    has_eclampsia: Boolean

    has_anaemia_of_pregnancy: Boolean

input -- Tracked State

    |
    | Possible values:
    |   |premature rupture|,
    |   |polyhydramnios|, |oligohydramnios|,
    |   |severe polyhydramnios|, |severe oligohydramnios|
    |
    amniotic_fluid_state: Terminology_term &lt;&lt;amniotic_fluid_state&gt;&gt;
        currency = 24h

    uterine_fundal_height: Quantity
        currency = 24h

    vaginal_blood_flow: Quantity
        currency = 30mins
        ranges =
            [critical_high]: |&gt; 500 mL/hr|

    |
    | Assessment of vaginal bleeding, pain, confirm
    | with ultrasound. Result value-set includes
    | |placenta previa|, |risk of miscarriage|,
    | |ectopic pregnancy| etc
    |
    vaginal_physical_exam_assessment: Terminology_term
        currency = 48h

    vomiting_assessment: Terminology_term
        currency = 48h

    ultrasound_finding: Terminology_term
        currency = 48h

    amniotic_volume: Real
        currency = 24h
        ranges =
            ------------------------------------
            [polyhydramnios]:    |&gt; 14|,
            [normal]:            |&gt;= 5 .. &lt;= 14|,
            [oligohydramnios]:   |&lt; 5|
            ------------------------------------
        ;

    labour_onset_assessment: Terminology_term
        currency = 24h

rules
    |
    | Convert BMI to ranges
    |
    bmi_range: Terminology_code &lt;&lt;COMMON.simple_ranges&gt;&gt;
        Result := case BMI.BMI in
            =============================
            |&gt;30|:              [high],
            -----------------------------
            |&gt;=15 .. &lt;= 30|:    [normal],
            -----------------------------
            |&lt; 15|:             [low]
            =============================
        ;

    |
    | Possible values:
    |    |excluded|, |anaemia of pregnancy|
    |
    anaemia_type: Terminology_term &lt;&lt;anaemia_type&gt;&gt;
        Result := not has_anaemia_of_pregnancy ? [excluded] : [anaemia_of_pregnancy]

    |
    | Return the highest level risk of any of the
    | assessed risks
    |
    effective_risk: Risk_value
        Result := Result.max ({fundal_height_related_risk,
                    amniotic_fluid_risk,
                    vaginal_bleeding_related_risk,
                    hypertension_risk,
                    hyperemesis_related_risk,
                    gestational_diabetes_risk,
                    anaemia_risk})
        ;

    ultrasound_required: Boolean
        Result := fundal_height_related_risk != [low_risk] or
                amniotic_fluid_risk != [low_risk] or
                vaginal_bleeding_related_risk != [low_risk]

    anaemia_risk: Risk_value
        Result := case anaemia_type in
            ============================================
            [severe_anaemia_of_pregnancy]:  [emergency],
            --------------------------------------------
            [anaemia_of_pregnancy]:         [high_risk],
            --------------------------------------------
            *:                              [low_risk]
            ============================================
        ;

    fundal_height_related_risk: Risk_value
        Result := case ultrasound_finding in
            =================================================
            [interuterine_growth_retardation],
            [multiple_pregnancy],
            [macrosomia]:                        [high_risk],
            -------------------------------------------------
            *:                                   [low_risk]
            =================================================
        ;

    amniotic_fluid_risk: Risk_value
        Result := case amniotic_fluid_state in
            =========================================
            [premature_rupture],
            [severe_oligohydramnios],
            [severe_polyhydramnios]:     [emergency],
            -----------------------------------------
            [polyhydramnios],
            [oligohydramnios]:           [high_risk],
            -----------------------------------------
            *:                            [low_risk]
            =========================================
        ;

    vaginal_bleeding_related_risk: Risk_value
        Result := case vaginal_physical_exam_assessment in
            =================================================
            [ectopic_pregnancy],
            [gestational_trophoblastic_disease]: [emergency],
            -------------------------------------------------
            [placenta_previa],
            [risk_of_miscarriage]:               [high_risk],
            -------------------------------------------------
            *:                                   [low_risk]
            =================================================
        ;

    gestational_diabetes_risk: Risk_value
        Result := choice of
            =================================================
            bmi_range = [high] or
            previous_macrosomic_baby or
            previous_gestational_diabetes or
            family_history_of_diabetes or
            race_related_diabetes_risk or
            has_gestational_diabetes or
            is_type1_diabetic:                  [high_risk],
            -------------------------------------------------
            *:                                  [low_risk]
            =================================================
        ;

    hypertension_risk: Risk_value
        Result := choice of
            =================================================
            has_pre_eclampsia or
            has_eclampsia:                      [emergency],
            -------------------------------------------------
            previous_obstetric_hypertension or
            previous_pre_eclampsia or
            previous_eclampsia or
            has_pregnancy_hypertension:         [high_risk],
            -------------------------------------------------
            *:                                  [low_risk]
            =================================================
        ;

   labour_onset_pathway: Terminology
        Result := case labour_onset_assessment in
            ====================================
            [placental_abruption],
            [premature_labour]:    [emergency],
            ------------------------------------
            [onset_of_labour],
            [labour_first_stage]:  [maternity],
            ------------------------------------
            *:                     [observation]
            ====================================
        ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["low_risk"] = &lt;
                text = &lt;"Normal obstetric care"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["emergency"] = &lt;
                text = &lt;"Obstetric emergency"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["high_risk"] = &lt;
                text = &lt;"Refer to high risk care"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["premature_rupture"] = &lt;
                text = &lt;"Premature rupture of membranes"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["polyhydramnios"] = &lt;
                text = &lt;"polyhydramnios"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["oligohydramnios"] = &lt;
                text = &lt;"oligohydramnios"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["severe_polyhydramnios"] = &lt;
                text = &lt;"severe polyhydramnios"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["severe_oligohydramnios"] = &lt;
                text = &lt;"severe oligohydramnios"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["severe_anaemia_of_pregnancy"] = &lt;
                text = &lt;"anaemia of pregnancy, severe"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["anaemia_of_pregnancy"] = &lt;
                text = &lt;"anaemia of pregnancy"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["amniotic_fluid_risk"] = &lt;
                text = &lt;"Risk of pregnancy-related amniotic fluid"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["hypertension_risk"] = &lt;
                text = &lt;"Risk of pregnancy-related hypertension"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["diabetes_risk"] = &lt;
                text = &lt;"Risk of pregnancy-related diabetes"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["anaemia_risk"] = &lt;
                text = &lt;"Risk of pregnancy-related anaemia"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["previous_macrosomic_baby"] = &lt;
                text = &lt;"Baby weighing 4.5kg or above"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["previous_gestational_diabetes"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;

            ["ectopic_pregnancy"] = &lt;
                text = &lt;"Ectopic pregnancy"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["gestational_trophoblastic_disease"] = &lt;
                text = &lt;"Gestational trophoblastic disease"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["previous_macrosomic_baby"] = &lt;
                text = &lt;"Baby weighing 4.5kg or above"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["previous_gestational_diabetes"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
        &gt;
    &gt;
    value_sets = &lt;
        ["amniotic_fluid_state"] = &lt;
            id = &lt;"amniotic_fluid_state"&gt;
            members = &lt;"premature_rupture", "polyhydramnios", "oligohydramnios", "severe_polyhydramnios", "severe_oligohydramnios"&gt;
        &gt;
        ["anaemia_type"] = &lt;
            id = &lt;"anaemia_type"&gt;
            members = &lt;"excluded", "anaemia_of_pregnancy"&gt;
        &gt;
    &gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_breast_cancer_decision_protocol"><a class="anchor" href="#_breast_cancer_decision_protocol"></a>7. Breast Cancer Decision Protocol</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_decision_logic_module"><a class="anchor" href="#_decision_logic_module"></a>7.1. Decision Logic Module</h3>
<div class="listingblock">
<div class="content">
<pre>dlm guideline Oncology_breast_cancer.v0.5.0

input -- Historical state

    has_heart_failure_class_II: Boolean

    has_heart_failure_class_III: Boolean

    has_heart_failure_class_IV: Boolean

    has_allergy_to_taxanes: Boolean

input -- Tracked State

    tnm_t: String
        currency = 60 days

    tnm_n: String
        currency = 60 days

    tnm_m: String
        currency = 60 days

    tnm_g: String
        currency = 60 days

    estrogen_receptor: Terminology_term «pos_neg_vs»
        currency = 60 days

    progesterone_receptor:  Terminology_term «pos_neg_vs»
        currency = 60 days

    her2_expression: Terminology_term «pos_neg_vs»
        currency = 60 days

    ki67: Quantity
        currency = 60 days
        ranges =
            -------------------
            [high]:   |&gt;= 14%|,
            [normal]: |&lt; 14%|
            -------------------
        ;

    ejection_fraction: Quantity
        currency = 60 days
        ranges =
            --------------------
            [normal]:  |&gt;= 40%|,
            [low]  :   |&lt; 40%|
            --------------------
        ;

rules -- Conditions

    er_negative:
        Result := estrogen_receptor = [negative]

    er_positive:
        Result := estrogen_receptor = [positive]

    pr_negative:
        Result := progesterone_receptor = [negative]

    pr_positive:
        Result := progesterone_receptor = [positive]

    her2_negative:
        Result := her2_expression = [negative]

    her2_positive:
        Result := her2_expression = [positive]

    has_non_class_I_heart_failure:
        Result := has_heart_failure_class_II
                  or has_heart_failure_class_III
                  or has_heart_failure_class_IV

    anthracyclines_contraindicated:
        Result := has_transmural_MI
            or ejection_fraction.in_range ([low])
            or has_non_class_I_heart_failure

    taxanes_contraindicated:
        Result := is_type1_diabetic
            or has_allergy_to_taxanes
            or has_intolerance ([taxanes])

rules -- Guideline

    molecular_subtype: Terminology_term
        Result :=
            choice of
                =========================================================
                er_positive and
                her2_negative and
                not ki67.in_range ([high]):    [luminal_A],
                ---------------------------------------------------------
                er_positive and
                her2_negative and
                ki67.in_range ([high]):        [luminal_B_HER2_negative],
                ---------------------------------------------------------
                er_positive and
                her2_positive:                 [luminal_B_HER2_positive],
                ---------------------------------------------------------
                er_negative and
                pr_negative and
                her2_positive and
                ki67.in_range ([high]):        [HER2],
                ---------------------------------------------------------
                er_negative and
                pr_negative and
                her2_negative and
                ki67.in_range ([high]):        [triple_negative],
                ---------------------------------------------------------
                *:                             [none];
                =========================================================
            ;

    chemotherapy_regime: Terminology_term
        Result :=
            choice of
                ================================================================================
                not metastatic:
                    choice of
                        ========================================================================
                        molecular_subtype in
                            {[luminal_B_HER2_negative],
                             [triple_negative]} and
                        (tnm_t &gt; '1a' or tnm_n &gt; '0'):                   [taxanes],
                        ------------------------------------------------------------------------
                        molecular_subtype = [luminal_A] and
                        (tnm_t &gt;= '3' or tnm_n &gt;= '2' or tnm_g &gt;= '3'):  [anthracyclines],
                        ------------------------------------------------------------------------
                        molecular_subtype = [luminal_B_HER2_positive] and
                        (tnm_t = '1b' or tnm_t = '1c' and tnm_n = '0') or
                        molecular_subtype = [HER2_positive] and
                        (tnm_t = '1b' and tnm_n = '0'):                  [paditaxel_trastuzumab]
                        ========================================================================
                    ;,
                --------------------------------------------------------------------------------
                *:
                    choice of
                        =====================
                        yyy:        aaa,
                        ---------------------
                        xxx:        bbb,
                        ---------------------
                        *:          ccc
                        =====================
                    ;
                =================================================================================
            ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["luminal_A"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["luminal_B_HER2_positive"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["luminal_B_HER2_negative"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["HER2_positive"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["HER2_megative"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["triple_negative"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;
            ["oligohydramnios"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
            &gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_covid19_severity_classification"><a class="anchor" href="#_covid19_severity_classification"></a>8. Covid19 Severity Classification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guideline is a formal expression of the <a href="https://www.acep.org/globalassets/sites/acep/media/covid-19-main/acep_evidencecare_covid19severitytool.pdf" target="_blank" rel="noopener">American College of Emergency Physicians (ACEP) Covid19 Severity Classification tool</a> and as an <a href="https://covid19.evidence.care/dashboard/covid/pathway/198712647/-980102880" target="_blank" rel="noopener">Interactive tool</a>.</p>
</div>
<div class="sect2">
<h3 id="_work_plan_2"><a class="anchor" href="#_work_plan_2"></a>8.1. Work Plan</h3>
<div class="paragraph">
<p>The following work plan is a rendition of the ACEP Covid19 severity guideline multi-step structure.</p>
</div>
<div id="ACEP_covid19_severity" class="imageblock text-center text-center">
<div class="content">
<img src="process_examples/diagrams/ACEP_covid19_severity.svg" alt="ACEP covid19 severity">
</div>
<div class="title">Figure 6. ACEP Covid19 Work Plan</div>
</div>
</div>
<div class="sect2">
<h3 id="_decision_logic_module_2"><a class="anchor" href="#_decision_logic_module_2"></a>8.2. Decision Logic Module</h3>
<div class="listingblock">
<div class="content">
<pre>dlm ACEP_COVID19_severity_classification.v0.5.0

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Thomas Beale"&gt;
        ["email"] = &lt;"thomas.beale@openEHR.org"&gt;
        ["organisation"] = &lt;"openEHR Foundation &lt;http://www.openEHR.org&gt;"&gt;
        ["date"] = &lt;"2020-12-02"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"This tool was developed by ACEP and EvidenceCare to assist
                in determining the appropriate evaluation and disposition for adult
                patients with suspected or confirmed COVID-19."&gt;
        &gt;
    &gt;
    copyright = &lt;"© 2020 openEHR Foundation"&gt;
    licence = &lt;"Creative Commons CC-BY &lt;https://creativecommons.org/licenses/by/3.0/&gt;"&gt;
    ip_acknowledgements = &lt;
        ["ACEP_EvidenceCare"] = &lt;"This content developed from original publication of
            © 2020 American College of Emergency Physicians (ACEP), EvidenceCare,
            see https://www.acep.org/globalassets/sites/acep/media/covid-19-main/acep_evidencecare_covid19severitytool.pdf"&gt;
    &gt;

use
    BASIC: Basic_patient_data.v0.5.0
    BMI: Body_mass_index.v0.5.0

input -- Administrative

    is_LT_care_resident: Boolean
        ;

input -- State

    |
    | Extract from master problem list or ask patient
    |
    has_cardiovascular_disease: Boolean
        ;

    |
    | Extract from master problem list or ask patient
    |
    has cerebrovascular_disease: Boolean
        ;

    |
    | Extract from master problem list or ask patient
    |
    has_COPD: Boolean
        ;

    |
    | Extract from master problem list or ask patient
    |
    is_type_2_diabetic: Boolean
        ;

    |
    | Extract from master problem list or ask patient
    |
    has_hypertension: Boolean
        ;

    |
    | True if any cancer diagnosis on master problem list
    | or ask patient
    |
    has_malignancy: Boolean
        ;

input -- Tracked State

    heart_rate: Count
        currency = 1 min
        ranges =
            ------------------------------------
            [mild_low_risk]:  |&lt;= 99 /min|,
            [mild_at_risk]:   |100 .. 120 /min|,
            [moderate_risk]:  |&gt;= 121 /min|
            ------------------------------------
        ;

    systolic_BP: Quantity
        currency = 10 min
        ranges =
            --------------------------------
            [critical_risk]:  |&lt; 90 mm[Hg]|,
            [normal_risk]:    |&gt;= 90 mm[Hg]|
            --------------------------------
        ;

    |
    | Minimum documented within last 8 hrs
    |
    lowest_SpO2: Quantity
        currency = 8 hr
        ranges =
            ------------------------------
            [mild_low_risk]:  |&gt;= 93 %|,
            [moderate_risk]:  |89 .. 92 %|,
            [severe_risk]:    |&lt;= 88 %|
            ------------------------------
        ;

    respiratory_rate: Quantity
        currency = 2 min
        ranges =
            ----------------------------------
            [mild_low_risk]:  |&lt;= 22 /min|,
            [moderate_risk]:  |23 .. 28 /min|,
            [severe_risk]:    |&gt;= 29 /min|
            ----------------------------------
        ;

    O2_flow_rate: Quantity
        currency = 2 min
        ranges =
            ---------------------------------
            [mild_low_risk]:  |= 0 L/min|,
            [mild_at_risk]:   |1 .. 2 L/min|,
            [moderate_risk]:  |3 .. 4 L/min|,
            [severe_risk]:    |&gt;= 5 L/min|
            ---------------------------------
        ;

    has_altered_LOC: Boolean
        currency = 5 min
        ;

    has_hemoptysis: Boolean
        currency = 5 min
        ;

    has_persistent_dyspnea: Boolean
        currency = 5 min
        ;

    |
    | Reference SpO2 for exertional test: a 1-minute sit-to-stand
    | test can be performed within the patient’s room.
    | With this, they sit and stand as many as they can over the
    | course of 1 minute.
    | * A 3% drop in pulse oximeter reading is considered a positive test
    |
    SpO2_exertion_reference: Quantity
        currency = 5 min
        ;

    |
    | Post exertion SpO2
    |
    SpO2_exertion_post: Quantity
        currency = 5 min
        ;

rules

    heart_rate_score: Integer
        Result := case heart_rate in
            =====================
            *:                0
            =====================
        ;

    systolic_BP_score: Integer
        Result := case systolic_BP in
            =====================
            *:                0
            =====================
        ;

    SpO2_score: Integer
        Result := case lowest_SpO2 in
            =====================
            [mild_low_risk]:  0,
            ---------------------
            [moderate_risk]:  2,
            ---------------------
            [severe_risk]:    5,
            ---------------------
            *:                0
            =====================
        ;

    respiratory_rate_score: Integer
        Result := case respiratory_rate in
            =====================
            [mild_low_risk]:  0,
            ---------------------
            [mild_at_risk]:   1,
            ---------------------
            [moderate_risk]:  2,
            ---------------------
            *:                0
            =====================
        ;

    O2_flow_rate_score: Integer
        Result := case O2_flow_rate in
            =====================
            [mild_low_risk],
            [mild_at_risk]:   0,
            ---------------------
            [moderate_risk]:  4,
            ---------------------
            [severe_risk]:    5,
            ---------------------
            *:                0
            =====================
        ;

    |
    | Compute the qCSI score from vital signs sub-scores
    |
    qCSI_score: Integer
        Result := heart_rate_score +
                systolic_BP_score +
                SpO2_score +
                respiratory_rate_score +
                O2_flow_rate_score
        ;

    |
    | ACEP step 2 assessment
    |
    qCSI_risk: Terminology_code
        Result := case qCSI_score in
            ============================
            0:          [mild_low_risk],
            ----------------------------
            |1..2|:     [mild_at_risk],
            ----------------------------
            |3..5|:     [moderate_risk],
            ----------------------------
            |6..8|:     [severe_risk],
            ----------------------------
            |&gt;= 9|:     [critical_risk]
            ============================
        ;

    |
    | Count demographic related risk factors
    |
    risk_factors_demographic_count: Integer
        Result.add (
            ------------------------------------
            BASIC.sex = [male]          ? 1 : 0,
            BASIC.age &gt; 60              ? 1 : 0,
            BASIC.race = [black_race]   ? 1 : 0
            ------------------------------------
        );

    |
    | Count medical / history related risk factors
    |
    risk_factors_medical_count: Integer
        Result.add (
            --------------------------------------
            has_cardiovascular_disease    ? 1 : 0,
            has cerebrovascular_disease   ? 1 : 0,
            has_COPD                      ? 1 : 0,
            is_type_2_diabetic            ? 1 : 0,
            has_hypertension              ? 1 : 0,
            has_malignancy                ? 1 : 0,
            BMI.bmi &gt; 30                  ? 1 : 0,
            has_renal_disease             ? 1 : 0
            --------------------------------------
        );

    |
    | Total pre-existing risk factors count
    |
    risk_factors_count: Integer
        Result := risk_factors_demographic_count +
                  risk_factors_medical_count
        ;

    |
    | ACEP step 3 assessment
    | NB: must be assessed in highest -&gt; lowest order
    |
    symptoms_related_risk: Terminology_code
        Result := choice of
            ====================================================
            has_altered_LOC:                    [critical_risk],
            ----------------------------------------------------
            has_hemoptysis:                     [severe_risk],
            ----------------------------------------------------
            has_persistent_dyspnea or
            is_LT_care_resident:                [moderate_risk],
            ----------------------------------------------------
            risk_factors_count ∈ {|&gt;= 2|}:     [mild_at_risk],
            ----------------------------------------------------
            risk_factors_count ∈ {|0..1|}:     [mild_low_risk]
            ====================================================
        ;

    |
    | Discharge home rule based on various criteria
    |
    can_discharge: Boolean
        Result :=
            qCSI_risk = [mild_low_risk] and
            symptoms_related_risk = [mild_low_risk] and
            exertional_SpO2_drop = [normal] and
            TO BE COMPLETED
        ;

    |
    | Generate a % drop in SpO2 over 1 min sit/stand exertion test;
    | NB: A fall in SpO2 generates a +ve result value.
    |
    exertional_SpO2_drop: Quantity
        Result := (SpO2_exertion_reference - SpO2_exertion_post)/SpO2_exertion_reference * 100
        ;

    exertional_SpO2_result: Terminology_code
        Result := case exertional_SpO2_drop in
            ========================
            |&lt; 3%|:   [normal],
            ------------------------
            |&gt;= 3%|:  [mild_at_risk]
            ========================
        ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cha2ds2_vasc"><a class="anchor" href="#_cha2ds2_vasc"></a>9. CHA2DS2-VASc</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_work_plan_3"><a class="anchor" href="#_work_plan_3"></a>9.1. Work Plan</h3>

</div>
<div class="sect2">
<h3 id="_decision_logic_module_3"><a class="anchor" href="#_decision_logic_module_3"></a>9.2. Decision Logic Module</h3>
<div class="paragraph">
<p>This DLM is a direct translation of the Cambio <a href="https://github.com/gdl-lang/common-clinical-models/blob/master/guidelines/CHA2DS2-VASc.v1.gdl" target="_blank" rel="noopener">CHA2DS2-VASc.v1</a> GDL2 guideline.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dlm CHA2DS2_VASc.v0.5.0

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Rong Chen"&gt;
        ["email"] = &lt;"models@cambiocds.com"&gt;
        ["organisation"] = &lt;"Cambio Healthcare Systems &lt;https://www.cambiogroup.com/our-solutions/cambio-cds-clinical-decision-support/&gt;"&gt;
        ["date"] = &lt;"2016-12-16"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"To record an individual's CHA2DS2-VASc score parameters and total score."&gt;
				use = &lt;"Use for stroke risk stratification in patients with atrial fibrillation.
                        CHA2DS2-VASc is an acronym, with each factor contributing points to the total score:
                        - Congestive heart failure 1p
                        - Hypertension 1p
                        - Age ≥75 years 2p
                        - Diabetes1p
                        - Stroke 2p
                        - Vascular disease 1p
                        - Age 65–74 years 1p
                        - Sex category 1p for female

                        The maximum score is 9p and the result is interpreted as;
                        0p - low risk
                        1p - intermediate risk
                        2p or more - high risk

                        Further interpretation in accordance with [4]
                        1p - stroke risk 0,6% per year, risk of stroke/TIA/thromboembolism 0,9% per year
                        2p - stroke risk 2,2% per year, risk of stroke/TIA/thromboembolism 2,9% per year
                        3p - stroke risk 3,2% per year, risk of stroke/TIA/thromboembolism 4,6% per year
                        4p - stroke risk 4,8% per year, risk of stroke/TIA/thromboembolism 6,7% per year
                        5p - stroke risk 7,2% per year, risk of stroke/TIA/thromboembolism 10,0% per year
                        6p - stroke risk 9,7% per year, risk of stroke/TIA/thromboembolism 13,6% per year
                        7p - stroke risk 11,2% per year, risk of stroke/TIA/thromboembolism 15,7% per year
                        8p - stroke risk 10,8% per year, risk of stroke/TIA/thromboembolism 15,2% per year
                        9p - stroke risk 12,2% per year, risk of stroke/TIA/thromboembolism 17,4% per year"
                &gt;
			&gt;
        &gt;
    &gt;
    copyright = &lt;"© 2020 openEHR Foundation"&gt;
    licence = &lt;"Creative Commons CC-BY &lt;https://creativecommons.org/licenses/by/3.0/&gt;"&gt;
    references = &lt;"[1] Lip GY, Nieuwlaat R, Pisters R, Lane DA, Crijns HJ. Refining clinical risk stratification for predicting stroke and thromboembolism in atrial fibrillation using a novel risk factor-                    based approach: the euro heart survey on atrial fibrillation. Chest. 2010 Feb;137(2):263-72.
                    [2] Camm a J, Kirchhof P, Lip GYH, Schotten U, Savelieva I, Ernst S, et al. Guidelines for the management of atrial fibrillation: the Task Force for the Management of Atrial Fibrillation of the European Society of Cardiology (ESC). Eur Heart J. 2010 Oct;31(19):2369–429.
                    [3] Lip GY, Frison L, Halperin JL, Lane DA. Identifying patients at high risk for stroke despite anticoagulation: a comparison of contemporary stroke risk stratification schemes in an anticoagulated atrial fibrillation cohort. Stroke. 2010 Dec;41(12):2731-8.
                    [4] Friberg L, Rosenqvist M, Lip GY. Evaluation of risk stratification schemes for ischaemic stroke and bleeding in 182 678 patients with atrial fibrillation: the Swedish Atrial Fibrillation cohort study. Eur Heart J. 2012 Jun;33(12):1500-10."
    &gt;

use
    BASIC: Basic_patient_data

input -- Historical state

    has_congestive_heart_failure: Boolean
        ;

    has_hypertension: Boolean
        ;

    |
    | Has recently had or currently has a stroke, TIA or thromboembolism
    |
    has_stroke_TIA_thromboembolism: Boolean
        ;

    has_diabetes: Boolean
        ;

    has_vascular_disease: Boolean
        ;

rules -- Main

    |
    | Convert sex to binary gender;
    | treat indeterminate sex as female
    |
    gender: Terminology_code &lt;&lt;sexes&gt;&gt;
        Result := case BASIC.sex in
            =================
            {[male]}: [male],
            -----------------
            *:      [female]
            =================
        ;

    age_score: Integer
        Result := case BASIC.age_in_years in
            ================
            |&lt;65|:       0,
            ----------------
            |65..74|:    1,
            ----------------
            |&gt;=75|:      2
            ================
        ;

    CHA2DS2_VASc_score: Integer
        Result.add (
            ---------------------------------------------
            BASIC.gender = [male]                ? 1 : 0,
            age_score,
            has_congestive_heart_failure         ? 1 : 0,
            has_hypertension                     ? 1 : 0,
            has_stroke_TIA_thromboembolism       ? 1 : 0,
            has_vascular_disease                 ? 1 : 0,
            has_diabetes                         ? 1 : 0
            ---------------------------------------------
        )
        ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["date_of_birth"] = &lt;
                text = &lt;"Date of birth"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0009"&gt;&gt;
            &gt;
            ["age_in_years"] = &lt;
                text = &lt;"Age (years)"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0010"&gt;&gt;
            &gt;
            ["age_category"] = &lt;
                text = &lt;"Age category"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0017"&gt;&gt;
            &gt;
            ["gender"] = &lt;
                text = &lt;"Gender"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0009", "gt0016"&gt;&gt;
            &gt;
            ["has_congestive_heart_failure"] = &lt;
                text = &lt;"xxx"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0011", "gt0018"&gt;&gt;
            &gt;
            ["has_hypertension"] = &lt;
                text = &lt;"xxx"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0012", "gt0019"&gt;&gt;
            &gt;
            ["has_diabetes"] = &lt;
                text = &lt;"Diabetes"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0015", "gt0022"&gt;&gt;
            &gt;
            ["has_stroke_TIA_thromboembolism"] = &lt;
                text = &lt;"Stroke/TIA/Thromboembolism"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0013", "gt0020"&gt;&gt;
            &gt;
            ["has_vascular_disease"] = &lt;
                text = &lt;"Vascular disease"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0014", "gt0021"&gt;&gt;
            &gt;
            ["male"] = &lt;
                text = &lt;"Male gender"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0035"&gt;&gt;
            &gt;
            ["female"] = &lt;
                text = &lt;"Female gender"&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0025"&gt;&gt;
            &gt;
            ["CHA2DS2_VASc_score"] = &lt;
                text = &lt;"xxx"&gt;
                description = &lt;"..."&gt;
                provenance = &lt;["GDL2"] = &lt;"gt0011"&gt;&gt;
            &gt;
        &gt;
    &gt;

    value_sets = &lt;
        ["genders"] = &lt;
            id = &lt;"genders"&gt;
            members = &lt;"male", "female"&gt;
        &gt;
    &gt;

binding</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_qrisk3_2017"><a class="anchor" href="#_qrisk3_2017"></a>10. qRisk3-2017</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This stroke/heart attack risk calculator was developed in the UK by University of Nottingham and EMIS (a major GP EMR supplier). An online calculator is <a href="https://qrisk.org/three/index.php" target="_blank" rel="noopener">visible here</a>. The algorithm is <a href="https://qrisk.org/three/src.php" target="_blank" rel="noopener">published as a PHP program</a>. See also <a href="https://www.bmj.com/content/357/bmj.j2099" target="_blank" rel="noopener">this article</a>.</p>
</div>
<div class="paragraph">
<p>What we can show here is how to represent the algorithm in a way that clinicians can directly understand, and indeed, could develop and maintain, given appropriate tools.</p>
</div>
<div class="sect2">
<h3 id="_decision_logic_module_4"><a class="anchor" href="#_decision_logic_module_4"></a>10.1. Decision Logic Module</h3>
<div class="paragraph">
<p>This DLM is a fairly literal rendering of the algorithm at the above link, with a cleaner representation of the scale factors, and a bit of vector math.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dlm qRisk3_2017.v0.5.0

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Thomas Beale"&gt;
        ["email"] = &lt;"thomas.beale @openEHR.org"&gt;
        ["organisation"] = &lt;"openEHR Foundation &lt;http://www.openEHR.org&gt;"&gt;
        ["date"] = &lt;"2021-011-10"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"To record an individual's QRISK3 score."&gt;
        &gt;
    &gt;
    copyright = &lt;"© 2021 openEHR Foundation"&gt;
    licence = &lt;"Creative Commons CC-BY &lt;https://creativecommons.org/licenses/by/3.0/&gt;"&gt;
    ip_acknowledgements = &lt;
        ["ClinRisk"] = &lt;"This content developed from original publication of
            © 2017 ClinRisk Ltd., see https://qrisk.org"&gt;
        ["QRISK"] = &lt;"QRISK® is a registered trademark of the University of Nottingham and EMIS"&gt;
    &gt;

use
    BASIC: Basic_patient_data.v0.5.0
    BMI: Body_mass_index.v0.5.0

reference

    Ethnicity_risk_factors = {
            [female]: {
                [white_or_not_stated]:  0.280403143329954250,
                [indian]:               0.562989941420753980,
                [pakistani]:            0.295900008511165160,
                [bangladeshi]:          0.072785379877982545,
                [other_asian]:         -0.170721355088573170,
                [black_caribbean]:     -0.393710433148749710,
                [black_african]:       -0.326324952835302720,
                [other_ethnic_group]:  -0.171270568832417840
            },
            [male]: {
                [white_or_not_stated]:  0.277192487603082790,
                [indian]:               0.474463607149312680,
                [pakistani]:            0.529617299196893710,
                [bangladeshi]:          0.035100159186299017,
                [other_asian]:         -0.358078996693279190,
                [black_caribbean]:     -0.400564852321651400,
                [black_african]:       -0.415227928898301730,
                [other_ethnic_group]:  -0.263213481347499670
            },
        }
        ;

    Smoking_risk_factors = {
            [female]: {
                [non_smoker]:           0,
                [ex_smoker]:            0.133868337865462620,
                [light_smoker]:         0.562008580124385370,
                [moderate_smoker]:      0.667495933775025470,
                [heavy_smoker]:         0.849481776448308470
            },
            [male]: {
                [non_smoker]:           0,
                [ex_smoker]:            0.191282228633889830,
                [light_smoker]:         0.552415881926455520,
                [moderate_smoker]:      0.638350530275060720,
                [heavy_smoker]:         0.789838198818580190
            }
        }
        ;

    Age_1_stats = {
            [female]: {
                [centre]:   0.053274843841791,
                [scale]:   -8.138810924772618800
            },
            [male]: {
                [centre]:   0.053274843841791,
                [scale]:   -17.839781666005575000
            }
        }
        ;

    Age_2_stats = {
            [female]: {
                [centre]:   4.332503318786621,
                [scale]:    0.797333766896990980
            },
            [male]: {
                [centre]:   77.284080505371094,
                [scale]:    0.0022964880605765492
            }
        }
        ;

    BMI_1_stats = {
            [female]: {
                [centre]:   0.154946178197861,
                [scale]:    0.292360922754600520
            },
            [male]: {
                [centre]:   0.149176135659218,
                [scale]:    2.456277666053635800
            }
        }
        ;

    BMI_2_stats = {
            [female]: {
                [centre]:   0.144462317228317,
                [scale]:   -4.151330021383766500
            },
            [male]: {
                [centre]:   0.141913309693336,
                [scale]:   -8.301112231471135400
            }
        }
        ;

    Rheumatoid_arthritis_stats = {
            [female]: {
                [centre]:   3.476326465606690,
                [scale]:    0.153380358208025540
            },
            [male]: {
                [centre]:   4.300998687744141,
                [scale]:    0.173401968563271110
            }
        }
        ;

    Systolic_BP_stats = {
            [female]: {
                [centre]:   123.130012512207030,
                [scale]:    0.0131314884071034240
            },
            [male]: {
                [centre]:   128.571578979492190,
                [scale]:    0.0129101265425533050
            }
        }
        ;

    Systolic_BP_std_dev_stats = {
            [female]: {
                [centre]:   9.002537727355957,
                [scale]:    0.0078894541014586095
            },
            [male]: {
                [centre]:   8.756621360778809,
                [scale]:    0.0129101265425533050
            }
        }
        ;

    Townsend_stats = {
            [female]: {
                [centre]:   0.392308831214905,
                [scale]:    0.0772237905885901080
            },
            [male]: {
                [centre]:   0.526304900646210,
                [scale]:    0.0332682012772872950
            }
        }
        ;

    Risk_factor_scales = {
            [female]: {
                [has_atrial_fibrillation]:              1.59233549692696630,
                [atypical_antipsychotic_medication]:    0.252376420701155570,
                [on_corticosteroids]:                   0.595207253046018510,
                [has_impotence]:                        0,
                [has_migraines]:                        0.3012672608703450,
                [has_rheumatoid_arthritis]:             0.213648034351819420,
                [has_chronic_kidney_disease]:           0.651945694938458330,
                [has_severe_mental_illness]:            0.125553080588201780,
                [has_systemic_lupus]:                   0.758809386542676930,
                [on_hypertension_treatment]:            0.509315936834230040,
                [has_family_history_CV_disease]:        0.454453190208962130
            },
            [male]: {
                [has_atrial_fibrillation]:              0.882092369280546570,
                [atypical_antipsychotic_medication]:    0.130468798551735130,
                [on_corticosteroids]:                   0.454853997504455430,
                [has_impotence]:                        0.222518590867053830,
                [has_migraines]:                        0.255841780741599130,
                [has_rheumatoid_arthritis]:             0.209706580139565670,
                [has_chronic_kidney_disease]:           0.718532612882743840,
                [has_severe_mental_illness]:            0.121330398820471640,
                [has_systemic_lupus]:                   0.440157217445752200,
                [on_hypertension_treatment]:            0.516598710826954740,
                [has_family_history_CV_disease]:        0.540554690093901560
            }
        }
        ;

    Diabetes_scales:
            [female]: {
                [no_diabetes]:      0,
                [type1_diabetes]:   1.72679775105373470,
                [type2_diabetes]:   1.06887732446154680
            }
            [male]: {
                [no_diabetes]:      0,
                [type1_diabetes]:   1.234342552167517500
                [type2_diabetes]:   0.859420714309322210
        }
        ;

    Interaction_scales = {
            [female]: {
                 [age_1]:   {
                    [has_atrial_fibrillation]:     19.9380348895465610,
                    [on_corticosteroids]:          -0.9840804523593628100000000,
                    [has_impotence]:                0,
                    [has_migraines]:                1.7634979587872999000000000,
                    [has_chronic_kidney_disease]:  -3.5874047731694114000000000,
                    [has_systemic_lupus]:          19.6903037386382920000000000,
                    [on_hypertension_treatment]:   11.8728097339218120000000000,
                    [bmi_1]:                       23.8026234121417420000000000,
                    [bmi_2]:                      -71.1849476920870070000000000,
                    [family_history_CV_disease]:    0.9946780794043512700000000,
                    [systolic_BP]:                  0.0341318423386154850000000,
                    [townsend]:                    -1.0301180802035639000000000
                },
                [age_2]:   {
                    [has_atrial_fibrillation]:     -0.0761826510111625050000000,
                    [on_corticosteroids]:          -0.1200536494674247200000000,
                    [has_impotence]:                0,
                    [has_migraines]:               -0.0655869178986998590000000,
                    [has_chronic_kidney_disease]:  -0.2268887308644250700000000,
                    [has_systemic_lupus]:           0.0773479496790162730000000,
                    [on_hypertension_treatment]:    0.0009685782358817443600000,
                    [bmi_1]:                        0.5236995893366442900000000,
                    [bmi_2]:                        0.0457441901223237590000000,
                    [family_history_CV_disease]:   -0.0768850516984230380000000,
                    [systolic_BP]:                 -0.0015082501423272358000000,
                    [townsend]:                    -0.0315934146749623290000000
                }
            },
            [male]: {
                 [age_1]:   {
                    [has_atrial_fibrillation]:      3.4896675530623207000000000,
                    [on_corticosteroids]:           1.1708133653489108000000000,
                    [has_impotence]:               -1.5064009857454310000000000,
                    [has_migraines]:                2.3491159871402441000000000,
                    [has_chronic_kidney_disease]:  -0.5065671632722369400000000,
                    [on_hypertension_treatment]:    6.5114581098532671000000000,
                    [bmi_1]:                       31.0049529560338860000000000,
                    [bmi_2]:                     -111.2915718439164300000000000,
                    [family_history_CV_disease]:    2.7808628508531887000000000,
                    [systolic_BP]:                  0.0188585244698658530000000,
                    [townsend]:                    -0.1007554870063731000000000
                },
                [age_2]:   {
                    [has_atrial_fibrillation]:     -0.0003499560834063604900000,
                    [on_corticosteroids]:          -0.0002496045095297166000000,
                    [has_impotence]:               -0.0011058218441227373000000,
                    [has_migraines]:                0.0001989644604147863100000,
                    [has_chronic_kidney_disease]:  -0.0018325930166498813000000,
                    [on_hypertension_treatment]:    0.0006383805310416501300000,
                    [bmi_1]:                        0.0050380102356322029000000,
                    [bmi_2]:                       -0.0130744830025243190000000,
                    [family_history_CV_disease]:   -0.0002479180990739603700000,
                    [systolic_BP]:                 -0.0000127187419158845700000,
                    [townsend]:                    -0.0000932996423232728880000
                }
            }
        }
        ;

    Snoking_interaction_scales = {
            [female]: {
                 [age_1]:   {
                    [non_smoker]:                   0,
                    [ex_smoker]:                   -4.70571617858518910,
                    [light_smoker]:                -2.74303834035733370,
                    [moderate_smoker]:             -0.866080888293921820,
                    [heavy_smoker]:                 0.902415623697106480
                },
                [age_2]:   {
                    [non_smoker]:                   0,
                    [ex_smoker]:                   -0.0755892446431930260000000,
                    [light_smoker]:                -0.1195119287486707400000000,
                    [moderate_smoker]: -            0.1036630639757192300000000,
                    [heavy_smoker]:                -0.1399185359171838900000000
                }
            },
            [male]: {
                 [age_1]:   {
                    [non_smoker]:                   0,
                    [ex_smoker]:                   -0.2101113393351634600000000,
                    [light_smoker]:                 0.7526867644750319100000000,
                    [moderate_smoker]:              0.9931588755640579100000000,
                    [heavy_smoker]:                 2.1331163414389076000000000
                },
                [age_2]:   {
                    [non_smoker]:                   0,
                    [ex_smoker]:                   -0.0004985487027532612100000,
                    [light_smoker]:                -0.0007987563331738541400000,
                    [moderate_smoker]:             -0.0008370618426625129600000,
                    [heavy_smoker]:                -0.0007840031915563728900000
                }
            }
        }
        ;

    Diabetes_interaction_scales = {
            [female]: {
                 [age_1]:   {
                    [no_diabetes]:                  0,
                    [type1_diabetes]:              -1.2444332714320747000000000,
                    [type2_diabetes]:               6.8652342000009599000000000
                },
                [age_2]:   {
                    [no_diabetes]:                  0,
                    [type1_diabetes]:              -0.2872406462448894900000000,
                    [type2_diabetes]:              -0.0971122525906954890000000
                }
            },
            [male]: {
                 [age_1]:   {
                    [no_diabetes]:                  0,
                    [type1_diabetes]:               5.3379864878006531000000000,
                    [type2_diabetes]:               3.6461817406221311000000000
                },
                [age_2]:   {
                    [no_diabetes]:                  0,
                    [type1_diabetes]:               0.0006409780808752897000000,
                    [type2_diabetes]:              -0.0002469569558886831500000
                }
            }
        }
        ;

input -- Administrative

    |
    | Ethnicity for qRisk3:
    |   [white_or_not_stated]
    |   [indian]
    |   [pakistani]
    |   [bangladeshi]
    |   [other_asian]
    |   [black_caribbean]
    |   [black_african]
    |   [other_ethnic_group]
    |
    qRisk3_ethnicity: Terminology_code &lt;&lt;qrisk_ethnicities&gt;&gt;
        ;

    townsend: Real
        ;

input -- Historical state

    |
    | Smoking status:
    |   [non_smoker]
    |   [ex_smoker]
    |   [light_smoker]
    |   [moderate_smoker]
    |   [heavy_smoker]
    |
    smoking_status: Terminology_code &lt;&lt;smoking_status&gt;&gt;
        ;

    |
    | Diabetes:
    |   [no_diabetes]
    |   [type1_diabetes]
    |   [type2_diabetes]
    |
    diabetes_status: Terminology_code &lt;&lt;diabetes_status&gt;&gt;
        ;

    |
    | Angina or heart attack in a 1st degree relative &lt; 60
    |
    family_history_CV_disease: Boolean
        ;

    |
    | Chronic kidney disease (stage 3, 4 or 5)
    |
    has_chronic_kidney_disease: Boolean
        ;

    has_atrial_fibrillation: Boolean
        ;

    on_hypertension_treatment: Boolean
        ;

    has_migraines: Boolean
        ;

    has_rheumatoid_arthritis: Boolean
        ;

    |
    | Has or being treated for erectile dysfunction
    | (female -&gt; False)
    |
    has_impotence: Boolean

    |
    | Has Systemic lupus erythematosus (SLE)
    |
    has_systemic_lupus: Boolean
        ;

    |
    | Severe mental illness (this includes schizophrenia,
    | bipolar disorder and moderate/severe depression)
    |
    has_severe_mental_illness: Boolean
        ;

    on_atypical_antipsychotic_medication: Boolean
        ;

    on_corticosteroids: Boolean
        ;

input -- Tracking state

    total_cholesterol_HDL_ratio: Real
        ;

    |
    | Systolic BP in [mmHg], at least 2, max 10 samples
    |
    systolic_BP_history: Array&lt;Real&gt;[2..10]
        ;

rules -- Main

    systolic_BP_std_deviation: Real
        Result := {Statistical_evaluator}.std_dev (systolic_BP_history)
        ;

    |
    | Applying the fractional polynomial transforms
    | (which includes scaling)
    |

    age_1_centred: Real
        Result := (BASIC.age_in_years/10) ^ 0.5  - Age_1_stats[BASIC.sex, [centre]]
        ;

    age_1_score: Real
        Result := age_1_centred * Age_1_stats[BASIC.sex, [scale]]
        ;

    age_2_centred: Real
        Result := BASIC.age_in_years/10 - Age_2_stats[BASIC.sex, [centre]]
        ;

    age_2_score: Real
        Result := age_2_centred * Age_2_stats[BASIC.sex, [scale]]
        ;

    BMI_scaled: Real
        Result := BMI.BMI/10
        ;

    BMI_1_centred: Real
        Result := BMI_scaled ^ 0.5 - BMI_1_stats[BASIC.sex, [centre]]
        ;

    BMI_1_score: Real
        Result := BMI_1_centred * BMI_1_stats[BASIC.sex, [scale]]
        ;

    BMI_2_centred: Real
        Result := BMI_scaled ^ 0.5 * {math}.ln (BMI_scaled) - BMI_2_stats[BASIC.sex, [centre]]
        ;

    BMI_2_score: Real
        Result := BMI_2_centred * BMI_2_stats[BASIC.sex, [scale]]
        ;

    rheumatoid_arthritis_score: Real
        Result := (has_rheumatoid_arthritis.as_integer - Rheumatoid_arthritis_stats[BASIC.sex, [centre]])
                    * Rheumatoid_arthritis_stats[BASIC.sex, [scale]]
        ;

    systolic_BP: Real
        Result := systolic_BP_history.last
        ;

    systolic_BP_score: Real
        Result := (systolic_BP - Systolic_BP_stats[BASIC.sex, [centre]])
                    * Systolic_BP_stats[BASIC.sex, [scale]]
        ;

    systolic_BP_std_dev_score: Real
        Result := (systolic_BP_std_deviation - Systolic_BP_std_dev_stats[BASIC.sex, [centre]])
                    * Systolic_BP_std_dev_stats[BASIC.sex, [scale]]
        ;

    townsend_score: Real
        Result := (townsend_score - Townsend_stats[BASIC.sex, [centre]])
                    * Townsend_stats[BASIC.sex, [scale]]
        ;

    |
    | TODO: Unclear what this is from published algorithm
    |
    survivor_factor: Real
        ;

    |
    | Compute quantitative &amp; classified part of score
    |
    raw_score_1: Real
        Result := add (
            Ethnicity_risk_factors[BASIC.sex, qRisk3_ethnicity],
            Smoking_risk_factors[BASIC.sex, smoking_status],
            age_1_score,
            age_2_score,
            BMI_1_score,
            BMI_2_score,
            rheumatoid_arthritis_score,
            systolic_BP_score,
            systolic_BP_std_dev_score,
            townsend_score_score,
            Diabetes_scales[BASIC.sex, diabetes_status]
        )

    |
    | Compute boolean part of score; use vector
    | in order to copmpute dot product with scales
    |
    boolean_risks: Vector&lt;Real&gt;
        Result := [
            has_atrial_fibrillation.as_integer,
            on_atypical_antipsychotic_medication.as_integer,
            on_corticosteroids.as_integer,
            has_impotence.as_integer,
            has_migraines.as_integer,
            has_rheumatoid_arthritis.as_integer,
            has_chronic_kidney_disease.as_integer,
            has_severe_mental_illness.as_integer,
            has_systemic_lupus.as_integer,
            on_hypertension_treatment.as_integer,
            family_history_CV_disease.as_integer
        ]
        ;

    raw_score_2: Real
        Result := boolean_risks . Risk_factor_scales[BASIC.sex]
        ;

    |
    | Compute interaction part of score; use vector
    | in order to copmpute dot product with scales
    |
    interaction_risks: Vector&lt;Real&gt;
        Result := [
            has_atrial_fibrillation.as_integer,
            on_corticosteroids.as_integer,
            has_impotence.as_integer,
            has_migraines.as_integer,
            has_chronic_kidney_disease.as_integer,
            has_systemic_lupus.as_integer,
            on_hypertension_treatment.as_integer,
            BMI_1_centred,
            BMI_2_centred,
            family_history_CV_disease.as_integer,
            systolic_BP,
            townsend
        ]
        ;

    raw_score_3: Real
        Result := add (
            age_1_centred * Smoking_interaction_scales[BASIC.sex, [age_1], smoking_status],
            age_1_centred * Diabetes_interaction_scales[BASIC.sex, [age_1], diabetes_status],

            age_1_centred * interaction_risks . Interaction_scales[BASIC.sex, [age_1]],

            age_2_centred * Smoking_interaction_scales[BASIC.sex, [age_2], smoking_status],
            age_2_centred * Diabetes_interaction_scales[BASIC.sex, [age_2], diabetes_status],

            age_2_centred * interaction_risks . Interaction_scales[BASIC.sex, [age_2]]
        )
        ;

    raw_score: Real
        Result = raw_score_1 + raw_score_2 + raw_score_3
        ;

    qRisk3_score: Real
        Result := 100.0 * (1 - survivor_factor ^ exp (raw_score))

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["date_of_birth"] = &lt;
                text = &lt;"Date of birth"&gt;
            &gt;
            ["age_in_years"] = &lt;
                text = &lt;"Age (years)"&gt;
            &gt;
            ["qRisk_score"] = &lt;
                text = &lt;"QRISK2 score"&gt;
            &gt;
            ["non_smoker"] = &lt;
                text = &lt;"Non-smoker"&gt;
            &gt;
            ["no_diabetes"] = &lt;
                text = &lt;"Non-diabetic"&gt;
            &gt;
            ["total_cholesterol_HDL_ratio"] = &lt;
                text = &lt;"Total cholesterol : HDL ratio"&gt;
            &gt;
            ["TODO: rest of terminology"] = &lt;
                text = &lt;"TODO: rest of terminology"&gt;
            &gt;
        &gt;
    &gt;

    value_sets = &lt;
        ["diabetes_status"] = &lt;
            id = &lt;"diabetes_status"&gt;
            members = &lt;"no_diabetes", "type1_diabetes", "type2_diabetes"&gt;
        &gt;
        ["smoking status"] = &lt;
            id = &lt;"status"&gt;
            members = &lt;"non_smoker", "ex_smoker", "light_smoker",
                "moderate_smoker", "heavy_smoker"
            &gt;
        &gt;
    &gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_decision_logic_modules"><a class="anchor" href="#_common_decision_logic_modules"></a>11. Common Decision Logic Modules</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_basic_demographics"><a class="anchor" href="#_basic_demographics"></a>11.1. BASIC: Demographics</h3>
<div class="listingblock">
<div class="content">
<pre>dlm BASIC.v0.5.0

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Thomas Beale"&gt;
        ["email"] = &lt;"thomas.beale@openEHR.org"&gt;
        ["organisation"] = &lt;"openEHR Foundation &lt;http://www.openEHR.org&gt;"&gt;
        ["date"] = &lt;"2021-011-10"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"To access common demographic state."&gt;
        &gt;
    &gt;

input -- Administrative

    date_of_birth: Date
        ;

    |
    | sex: [male] | [female] | [indeterminate]
    |
    sex: Terminology_code &lt;&lt;sexes&gt;&gt;
        ;

    |
    | race
    |
    race: Terminology_code &lt;&lt;races&gt;&gt;
        ;

    |
    | Ethnicity:
    |   [white_or_not_stated]
    |   [indian]
    |   [pakistani]
    |   [bangladeshi]
    |   [other_asian]
    |   [black_caribbean]
    |   [black_african]
    |   [other_ethnic_group]
    |
    ethnicity: Terminology_code &lt;&lt;ethnicities&gt;&gt;
        ;

rules -- Main

    |
    | age in years
    |
    age_in_years: Integer
        Result := (current_date - date_of_birth).as_years
        ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["date_of_birth"] = &lt;
                text = &lt;"Date of birth"&gt;
            &gt;
            ["age"] = &lt;
                text = &lt;"Age"&gt;
            &gt;
            ["age_in_years"] = &lt;
                text = &lt;"Age in years"&gt;
            &gt;
            ["sex"] = &lt;
                text = &lt;"Sex"&gt;
            &gt;
            ["male"] = &lt;
                text = &lt;"Male sex"&gt;
            &gt;
            ["female"] = &lt;
                text = &lt;"Female sex"&gt;
            &gt;
        &gt;
    &gt;
    value_sets = &lt;
        ["sexes"] = &lt;
            id = &lt;"sexes"&gt;
            members = &lt;"male", "female", "indeterminate"&gt;
        &gt;
        ["ethnicities"] = &lt;
            id = &lt;"ethnicities"&gt;
            members = &lt;"white",
                "indian", "pakistani", "bangladeshi",
                "other_asian", "black_caribbean",
                "black_african", "other_ethnic_group"
            &gt;
        &gt;
        ["races"] = &lt;
            id = &lt;"races"&gt;
            members = &lt;"caucasian",
                "asian", "black", "other"
            &gt;
        &gt;
    &gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bsa_body_surface_area"><a class="anchor" href="#_bsa_body_surface_area"></a>11.2. BSA: Body Surface Area</h3>
<div class="listingblock">
<div class="content">
<pre>dlm Body_surface_area.v0.5.0

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Thomas Beale"&gt;
        ["email"] = &lt;"thomas.beale@openEHR.org"&gt;
        ["organisation"] = &lt;"openEHR Foundation &lt;http://www.openEHR.org&gt;"&gt;
        ["date"] = &lt;"2021-011-10"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"Body surface area."&gt;
            use = &lt;"Used to calculate dosage e.g. for chemotherapy and other systemic medications."&gt;
        &gt;
    &gt;

input -- State

    |
    | Weight as recorded in local system
    |
    weight: Quantity
        currency = 30d
        ;

    |
    | Height as recorded in local system
    |
    height: Quantity
        currency = 5y
        ;

rules -- Main

    |
    | Weight in kg
    |
    weight_in_kg: Real
        Result := choice of
            =====================================================
            weight.units = "kg":    weight.magnitude,
            -----------------------------------------------------
            weight.units = "lb":    weight.magnitude / 2.2,
            -----------------------------------------------------
            *:                      {Quantity_converter}.
                                    convert_value (weight.value,
                                        from: weight.units,
                                        to: "kg",
                                        UCUM.[mass])
            =====================================================
        ;

    |
    | Height in cm
    |
    height_in_cm: Real
        Result := choice of
            ====================================================
            height.units = "cm":    height.magnitude,
            ----------------------------------------------------
            height.units = "m":     height.magnitude * 100,
            ----------------------------------------------------
            *:                      {Quantity_converter}.
                                    convert_value (height.value,
                                        from: height.units,
                                        to: "cm",
                                        UCUM.[length])
            =====================================================
        ;

    |
    | Body surface area
    |
    BSA: Real
        Result := {math}.sqrt (weight_in_kg * height_in_cm / 3600)
        ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["bsa"] = &lt;
                text = &lt;"Body surface area"&gt;
            &gt;
            ["weight"] = &lt;
                text = &lt;"Body weight, in whatever units are in local use"&gt;
            &gt;
            ["height"] = &lt;
                text = &lt;"Body height, in whatever units are in local use"&gt;
            &gt;
            ["weight_in_kg"] = &lt;
                text = &lt;"Body weight in kg"&gt;
            &gt;
            ["height_in_cm"] = &lt;
                text = &lt;"Body height in cm"&gt;
            &gt;
        &gt;
    &gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bmi_body_mass_index"><a class="anchor" href="#_bmi_body_mass_index"></a>11.3. BMI: Body Mass Index</h3>
<div class="listingblock">
<div class="content">
<pre>dlm Body_mass_index.v0.5.0

language
    original_language = &lt;[ISO_639-1::en]&gt;

description
    lifecycle_state = &lt;"unmanaged"&gt;
    original_author = &lt;
        ["name"] = &lt;"Thomas Beale"&gt;
        ["email"] = &lt;"thomas.beale@openEHR.org"&gt;
        ["organisation"] = &lt;"openEHR Foundation &lt;http://www.openEHR.org&gt;"&gt;
        ["date"] = &lt;"2021-011-10"&gt;
    &gt;
    details = &lt;
        ["en"] = &lt;
            language = &lt;[ISO_639-1::en]&gt;
            purpose = &lt;"Body mass index."&gt;
            use = &lt;"Used as a rough surrogate for determining whether a person has in the normal weight range for their height."&gt;
        &gt;
    &gt;

input -- State

    |
    | Weight as recorded in local system
    |
    weight: Quantity
        currency = 30d
        ;

    |
    | Height as recorded in local system
    |
    height: Quantity
        currency = 5y
        ;

rules -- Main

    |
    | Weight in kg, converted as necessary from subject weight
    |
    weight_in_kg: Real
        Result := choice of
            ====================================================
            weight.units = "kg":    weight.magnitude,
            ----------------------------------------------------
            weight.units = "lb":    weight.magnitude / 2.2,
            ----------------------------------------------------
            *:                      {Quantity_converter}.
                                    convert_value (weight.value,
                                        from: weight.units,
                                        to: "kg",
                                        UCUM.[mass])
            ====================================================
        ;

    |
    | Height in m, converted as necessary from subject height
    |
    height_in_m: Real
        Result := choice of
            =====================================================
            height.units = "m":     height.magnitude,
            -----------------------------------------------------
            height.units = "cm":    height.magnitude / 100,
            -----------------------------------------------------
            *:                      {Quantity_converter}.
                                    convert_value (height.value,
                                        from: height.units,
                                        to: "m",
                                        UCUM.[length])
            =====================================================
        ;

    |
    | Body mass index
    |
    BMI: Real
        Result := weight_in_kg / height_in_m ^ 2
        ;

terminology
    term_definitions = &lt;
        ["en"] = &lt;
            ["bmi"] = &lt;
                text = &lt;"Body mass index"&gt;
            &gt;
            ["weight"] = &lt;
                text = &lt;"Body weight, in whatever units are in local use"&gt;
            &gt;
            ["height"] = &lt;
                text = &lt;"Body height, in whatever units are in local use"&gt;
            &gt;
            ["weight_in_kg"] = &lt;
                text = &lt;"Body weight in kg"&gt;
            &gt;
            ["height_in_m"] = &lt;
                text = &lt;"Body height in m"&gt;
            &gt;
        &gt;
    &gt;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-01-31 19:56:45 UTC
</div>
</div>
</body>
</html>